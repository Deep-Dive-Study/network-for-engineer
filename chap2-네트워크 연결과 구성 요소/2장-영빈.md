# 네트워크의 연결과 구성요소

## 네트워크 연결 구분

네트워크는 규모에 따라 LAN, MAN, WAN 으로 구분됨

#### LAN(Local Area Network)

소규모의 네트워크로 먼 거리를 통신할 필요가 없어 스위치 같은 간단한 장비로 연결된 네트워크

대부분 이더넷 기반 전송 기술을 사용함

#### WAN(Wide Area Network)

멀리 떨어진 LAN을 서로 연결하거나 인터넷에 접속하기 위한 네트워크

대부분 통신 사업자로부터 회선을 임대해 사용

## 네트워크 회선

원격지 네트워크에 연결하기 위해서는 WAN을 사용해야 하는데 WAN에서 통신 사업자와 사용자를 연결해주는 네트워크는 이더넷, 음성 회선 등 여러 기술들이 사용됨

### 인터넷 회선

인터넷 접속을 위해 통신 사업자와 연결하는 회선

일반 가정에서는 인터넷 전용회선과 달리 전송 선로 공유 기술을 사용함

선로를 공유하기 때문에 네트워크 전송 속도가 일정하지 않음(주변 기기의 사용량에 따라 변할 수 있음)

### 전용 회선

가입자와 통신 사업자 간에 대역폭을 보장해주는 서비스

가입자와 통신 사업자 간에는 **전용 케이블**로 연결되어 있고 통신 사업자 내부에서 TDM(시분할 다중화) 같은 기술로 마치 직접 연결한 것 처럼 통신 품질을 보장

전용회선을 전송 기술 기반으로 구분하면 **음성 전송 기술 기반의 저속 회선,** **메트로 이더넷이라는 고속회선**으로 분류할 수 있음

`음성 전송 기술 기반의 저속 회선`

저속 음성 전송 기술은 64kbps 단위로 구분되어 사용되는데 작은 기본 단위를 묶어 회선 접속 속도를 높이는 방법으로 발전됨

높은 속도가 필요하지 않을 때나 높은 신뢰성이 필요할 때 사용되어 왔지만 현재 이더넷 기반의 광 전송 기술이 신뢰할 수준으로 발전함에 따라 빈도 감소

`메트로 이더넷 고속회선`

고속 연결은 대부분 광케이블 기반의 이더넷 사용

### 인터넷 전용 회선

인터넷 연결 회선에 대한 통신 대역폭을 보장해주는 상품으로 가입자가 통신 사업자와 연결되고 이 연결이 인터넷과 연결되는 구조

### VPN(Virtual Private Network)

물리적으로는 전용선이 아니지만 가상으로 직접 연결한 것 같은 효과가 나도록 만들어주는 네트워크 기술

가입자 입장에서의 기술과 통신 사업자 입장에서의 기술이 별도로 발전

#### 통신 사업자 VPN

전용선은 연결 거리가 늘어날수록 비용이 증가하는데 이를 막기 위해 직접 가입자를 구분할 수 있는 VPN 기술인 MPLS VPN을 사용해 비용을 낮춤

여러 가입자가 하나의 망에 접속해 통신하므로 공용 회선을 함께 이용하게 되어 비용이 낮아지고 사용자들은 전용회선을 사용한 것처럼 착각

#### 가입자 VPN

일반 인터넷망을 이용해 사용자가 직접 가상 전용 네트워크를 구성할 수 있음

해외를 전용선으로 연결하면 비용이 매우 비싸고 MPLS VPN을 사용한 회선도 일반 인터넷 연결 비용보다 비쌈 따라서 이를 더 낮추기 위해 VPN 사용

#### DWDM

파장 분할 다중화 전송 기술

먼거리를 통신할 때 케이블 포설 비용이 많이 들고 관리가 어려운 문제를 극복하기 위해 개발

이전에는 하나의 광케이블에 하나의 통신만 가능했었는데 이 때문에 많은 케이블을 포설해야했고 이는 하나의 광케이블에 다른 파장의 빛을 통해 여러 채널을 만들어 동시에 많은 데이터를 전송할 수 있게함

최근 일반 가정에서 사용하는 **기가 인터넷**에서도 사용함

## 네트워크 구성 요소

네트워크를 구축하고 사용하는 데 필요한 구성 요소들을 알아보자

### 네트워크 인터페이스 카드(NIC) == 랜 카드

> 컴퓨터를 네트워크에 연결하기 위한 하드웨어 장치

**주요 역할**

- 직렬화
  - 전기적 신호를 데이터 신호 형태로, 혹은 역으로 변환해줌
  - 전기신호로 데이터를 전송하는데 이런 변환과정을 **직렬화**라고 함
- MAC 주소
  - NIC는 MAC 주소를 가지고 있음
  - 받은 패킷의 도착지 주소가 자신의 MAC 주소가 아니면 폐기하고 맞으면 시스템 내부에서 처리할 수 있도록 처리
- 흐름 제어
  - 패킷 기반 네트워크에서는 다양한 통신이 하나의 채널을 이용하므로 이미 처리중인 데이터 처리 때문에 새로운 데이터를 못받을 수도 있음
  - 이 데이터 유실을 방지하기 위해 데이터를 받지 못할 때는 상대방에게 통신 중지를 요청할 수 있는데 이를 **흐름 제어**라고 함

### 케이블과 커넥터 - 1계층

실무에서 사용하는 다양한 케이블과 용어에 대해 알아보자

케이블은 트위스티드 페어, 동축, 광 케이블 3가지가 있음

#### 이더넷 네트워크 표준

현재 가장 많이 사용되는 네트워크 기술은 이더넷 방식

### 허브 - 1계층

1계층에서 동작하는 장비로 거리가 멀어질수록 줄어드는 전기 신호를 **재생성**해주고 **여러 대의 장비를 연결**할 목적으로 사용됨

들어온 신호를 모든 포트로 내보내 네트워크에 접속된 모든 단말이 경쟁하게 되므로 전체 네트워크 성능이 저하되는 문제가 있고 패킷이 무한으로 순환해 네트워크 전체를 마비시키는 루프같은 다양한 장애의 원인이 되어 현재는 거의 사용하지 않음

### 스위치 - 2계층

허브와 동일하게 여러 장비를 연결하고 통신을 중재 - 스위칭 허브라고도 부름

허브와 달리 MAC 주소를 이해할 수 있어 목적지 MAC 주소의 위치를 파악하고 목적지가 연결된 포트로만 전기 신호를 보냄

송수신을 동시에 할 수 있어 네트워크가 성능 보장이 가능한 효율 높은 네트워크 기술로 발전할 수 있었던 계기가 됨

### 라우터 - 3계층

먼 지역에 위치한 네트워크와 통신해야 하는 요구사항이 늘어나면서 라우터가 필요해짐

3계층에 위치하며 먼 거리로 통신할 수 있는 프로토콜로 변환

원격지로 쓸데없는 패킷이 전송되지 않도록 브로드캐스트와 멀티캐스트를 컨트롤하고 불분명한 주소로 통신을 시도할 경우 이를 버림

정확한 방향으로 패킷이 전송되도록 경로를 지정하고 최적의 경로로 패킷을 포워딩

### 로드 밸런서 - 4계층

일반적으로 로드 밸런서는 4계층에서 동작함

애플리케이션 계층에서 애플리케이션 프로토콜의 특징을 이해하고 동작하는 7계층 로드 밸런서를 ADC(Application Delivery Controler) 라고 함

4계층 포트 주소를 확인하는 동시에 IP 주소를 변경할 수 있음

웹 서버를 증설하고 싶을 때 로드 밸런서를 웹 서버 앞에 두고 웹 서버를 여러 대로 늘림

대표 IP는 로드 밸런서가 갖고 로드 밸런서가 각 웹 서버로 패킷의 목적지 IP 주소를 변경해 보내줌

IP 변환 외에도 서비스 헬스 체크 기능이나 대용량 세션 처리 기능이 있음

### 보안 장비(방화벽/IPS)

정보를 잘 제어하고 공격을 방어하는 데 초점이 맞춰짐

예시

- 방화벽
  - 4계층에서 동작해 방화벽을 통과하는 패킷의 3,4계층 정보를 확인하고 패킷을 정책과 비교해 버리거나 포워딩

### 모뎀/공유기

가정에서 사용하는 공유기는 2계층 스위치, 3계층 라우터, 4계층 NAT와 간단한 방화벽 기능을 한 곳에 모아놓은 장비

모뎀은 짧은 거리를 통신하는 기술과 먼 거리를 통신하는 기술이 달라 이 기술들을 변환해주는 장비

- ​	LAN포트와 WAN포트는 모두 일반 이더넷이어서 100m 이상 먼 거리롤 데이터를 보내지 못하므로 먼 거리 통신이 가능한 기술로 변환하는 모뎀이 필요함
  - 기가 인터넷 : FTTH 모뎀
  - 동축 케이블 인터넷 : 케이블 모뎀
  - 전화선 : ADSL, VDSL 모뎀

